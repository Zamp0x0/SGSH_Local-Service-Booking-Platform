langchain4j:
  open-ai:
    chat-model:
      base-url: https://dashscope.aliyuncs.com/compatible-mode/v1
      api-key: sk-f60cddb8859f49f4b38f4c4e9d59b5e6
      model-name: qwen-plus
      log-requests: true
      log-responses: true

    streaming-chat-model:
      base-url: https://dashscope.aliyuncs.com/compatible-mode/v1
      api-key: sk-f60cddb8859f49f4b38f4c4e9d59b5e6
      model-name: qwen-plus
      log-requests: true
      log-responses: true

    embedding-model:
      base-url: https://dashscope.aliyuncs.com/compatible-mode/v1
      api-key: sk-f60cddb8859f49f4b38f4c4e9d59b5e6
      model-name: text-embedding-v3
      log-requests: true
      log-responses: true
      max-segments-per-batch: 10

  community:
    redis:
      # 统一复用 spring.data.redis 的配置（同一个Redis、同一个db）
      host: ${spring.data.redis.host}
      port: ${spring.data.redis.port}
      database: ${spring.data.redis.database}
      timeout: ${spring.data.redis.timeout}
      # Docker 的 redis-stack 默认无密码：不要配 password
      lettuce:
        pool:
          max-active: 10
          max-idle: 10
          min-idle: 1
          time-between-eviction-runs: 10s

logging:
  level:
    dev.langchain4j: debug

spring:
  data:
    redis:
      host: 127.0.0.1
      port: 6380       # <- Docker redis-stack 映射端口（你如果用的是6379映射，就改成6379）
      database: 0      # <- 你要的 db0
      timeout: 5s
      # Docker 的 redis-stack 默认无密码：不要配 password
      lettuce:
        pool:
          max-active: 10
          max-idle: 10
          min-idle: 1
          time-between-eviction-runs: 10s

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://127.0.0.1:3306/hmdp_yjshz?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true&characterEncoding=utf8
    username: root
    password: 136314

mybatis:
  configuration:
    map-underscore-to-camel-case: true

mybatis-plus:
  type-aliases-package: com.yjshz.consultant.pojo

server:
  port: 8084

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: always
